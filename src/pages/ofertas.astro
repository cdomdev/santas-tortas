---
import "@/styles/globals.css";
import Layout from "@/layouts/Layout.astro";
import { getOferts } from "@/lib/getProducts";
import ViewProducts from "@/components/ViewProducts.astro";
import { metaData } from "@/content";
import Crumbs from "@/components/Crumbs.astro";
const response = await getOferts();
const products = response?.data || [];
---

<Layout title={metaData.ofertas.title}>
  <Crumbs pagina={["ofertas"]}/>
  <section class="max-w-screen-xl mx-auto pt-5">
    <h1
      class="text-2xl md:text-3xl text-balance text-[#f1683a] font-bold mb-4 pl-3 md:pl-0 text-center"
      id="title"
    >
      Ofertas en tortas y postres artesanales
    </h1>
    <p class="text-sm md:text-base text-wrap px-3 md:px-0 pb-4" id="des">
      Descubre el equilibrio perfecto entre sabor, calidad y diseño a un precio
      increíble. Nuestros productos están hechos con ingredientes frescos y un
      toque especial para cada ocasión. ¡Aprovecha nuestras ofertas y haz tu
      pedido hoy mismo para disfrutar de un dulce momento único!
    </p>
  </section>
  <section class="flex my-3 max-w-screen-xl mx-auto">
    <aside
      id="cards-categorias"
      class="w-full max-w-[20%] hidden md:flex flex-col px-4 py-5 gap-y-3"
    >
      <h2 class="font-bold text-base md:text-xl border-b pl-2">Descuento</h2>
      <ol class="font-normal text-sm/10 border h-auto py-4 px-2">
        <li>
          <input type="checkbox" class="mr-2 rounded-full" />Todos los productos
        </li>
        <li>
          <input type="checkbox" class="mr-2 rounded-full" />Mayor a menor
        </li>
        <li>
          <input type="checkbox" class="mr-2 rounded-full" />Menor a mayor
        </li>
      </ol>
    </aside>
    <article class="w-full">
      <ViewProducts products={products} />
    </article>
  </section>
</Layout>

<style>
  #cards-categorias {
    opacity: 0;
    animation: showContent 0.5s 1s linear 1 forwards;
  }

  #cards-categorias {
    transform: translatex(-50px);
    filter: blur(5px);
  }

  @keyframes showContent {
    to {
      transform: translateY(0px);
      filter: blur(0px);
      opacity: 1;
    }
  }

  #cards-categorias {
    animation-delay: 2.5s;
  }
</style>
